{"ast":null,"code":"import _slicedToArray from\"/Users/valeria/Desktop/Files/wep-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useCallback,useEffect,useState}from'react';import'./Form.css';import{useTelegram}from\"../../hooks/useTelegram\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Form=function Form(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),country=_useState2[0],setCountry=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),street=_useState4[0],setStreet=_useState4[1];var _useState5=useState('physical'),_useState6=_slicedToArray(_useState5,2),subject=_useState6[0],setSubject=_useState6[1];var _useTelegram=useTelegram(),tg=_useTelegram.tg;var onSendData=useCallback(function(){var data={country:country,street:street,subject:subject};tg.sendData(JSON.stringify(data));},[country,street,subject]);useEffect(function(){tg.onEvent('mainButtonClicked',onSendData);return function(){tg.offEvent('mainButtonClicked',onSendData);};},[onSendData]);useEffect(function(){tg.MainButton.setParams({text:'Отправить данные'});},[]);useEffect(function(){if(!street||!country){tg.MainButton.hide();}else{tg.MainButton.show();}},[country,street]);var onChangeCountry=function onChangeCountry(e){setCountry(e.target.value);};var onChangeStreet=function onChangeStreet(e){setStreet(e.target.value);};var onChangeSubject=function onChangeSubject(e){setSubject(e.target.value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0432\\u0430\\u0448\\u0438 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435\"}),/*#__PURE__*/_jsx(\"input\",{className:'input',type:\"text\",placeholder:'Страна',value:country,onChange:onChangeCountry}),/*#__PURE__*/_jsx(\"input\",{className:'input',type:\"text\",placeholder:'Улица',value:street,onChange:onChangeStreet}),/*#__PURE__*/_jsxs(\"select\",{value:subject,onChange:onChangeSubject,className:'select',children:[/*#__PURE__*/_jsx(\"option\",{value:'physical',children:\"\\u0424\\u0438\\u0437. \\u043B\\u0438\\u0446\\u043E\"}),/*#__PURE__*/_jsx(\"option\",{value:'legal',children:\"\\u042E\\u0440. \\u043B\\u0438\\u0446\\u043E\"})]})]});};export default Form;","map":{"version":3,"names":["React","useCallback","useEffect","useState","useTelegram","Form","country","setCountry","street","setStreet","subject","setSubject","tg","onSendData","data","sendData","JSON","stringify","onEvent","offEvent","MainButton","setParams","text","hide","show","onChangeCountry","e","target","value","onChangeStreet","onChangeSubject"],"sources":["/Users/valeria/Desktop/Files/wep-app/src/components/Form/Form.jsx"],"sourcesContent":["import React, {useCallback, useEffect, useState} from 'react';\nimport './Form.css';\nimport {useTelegram} from \"../../hooks/useTelegram\";\n\nconst Form = () => {\n    const [country, setCountry] = useState('');\n    const [street, setStreet] = useState('');\n    const [subject, setSubject] = useState('physical');\n    const {tg} = useTelegram();\n\n    const onSendData = useCallback(() => {\n        const data = {\n            country,\n            street,\n            subject\n        }\n        tg.sendData(JSON.stringify(data));\n    }, [country, street, subject])\n\n    useEffect(() => {\n        tg.onEvent('mainButtonClicked', onSendData)\n        return () => {\n            tg.offEvent('mainButtonClicked', onSendData)\n        }\n    }, [onSendData])\n\n    useEffect(() => {\n        tg.MainButton.setParams({\n            text: 'Отправить данные'\n        })\n    }, [])\n\n    useEffect(() => {\n        if(!street || !country) {\n            tg.MainButton.hide();\n        } else {\n            tg.MainButton.show();\n        }\n    }, [country, street])\n\n    const onChangeCountry = (e) => {\n        setCountry(e.target.value)\n    }\n\n    const onChangeStreet = (e) => {\n        setStreet(e.target.value)\n    }\n\n    const onChangeSubject = (e) => {\n        setSubject(e.target.value)\n    }\n\n    return (\n        <div className={\"form\"}>\n            <h3>Введите ваши данные</h3>\n            <input\n                className={'input'}\n                type=\"text\"\n                placeholder={'Страна'}\n                value={country}\n                onChange={onChangeCountry}\n            />\n            <input\n                className={'input'}\n                type=\"text\"\n                placeholder={'Улица'}\n                value={street}\n                onChange={onChangeStreet}\n            />\n            <select value={subject} onChange={onChangeSubject} className={'select'}>\n                <option value={'physical'}>Физ. лицо</option>\n                <option value={'legal'}>Юр. лицо</option>\n            </select>\n        </div>\n    );\n};\n\nexport default Form;\n"],"mappings":"0HAAA,MAAOA,MAAP,EAAeC,WAAf,CAA4BC,SAA5B,CAAuCC,QAAvC,KAAsD,OAAtD,CACA,MAAO,YAAP,CACA,OAAQC,WAAR,KAA0B,yBAA1B,C,wFAEA,GAAMC,KAAI,CAAG,QAAPA,KAAO,EAAM,CACf,cAA8BF,QAAQ,CAAC,EAAD,CAAtC,wCAAOG,OAAP,eAAgBC,UAAhB,eACA,eAA4BJ,QAAQ,CAAC,EAAD,CAApC,yCAAOK,MAAP,eAAeC,SAAf,eACA,eAA8BN,QAAQ,CAAC,UAAD,CAAtC,yCAAOO,OAAP,eAAgBC,UAAhB,eACA,iBAAaP,WAAW,EAAxB,CAAOQ,EAAP,cAAOA,EAAP,CAEA,GAAMC,WAAU,CAAGZ,WAAW,CAAC,UAAM,CACjC,GAAMa,KAAI,CAAG,CACTR,OAAO,CAAPA,OADS,CAETE,MAAM,CAANA,MAFS,CAGTE,OAAO,CAAPA,OAHS,CAAb,CAKAE,EAAE,CAACG,QAAH,CAAYC,IAAI,CAACC,SAAL,CAAeH,IAAf,CAAZ,EACH,CAP6B,CAO3B,CAACR,OAAD,CAAUE,MAAV,CAAkBE,OAAlB,CAP2B,CAA9B,CASAR,SAAS,CAAC,UAAM,CACZU,EAAE,CAACM,OAAH,CAAW,mBAAX,CAAgCL,UAAhC,EACA,MAAO,WAAM,CACTD,EAAE,CAACO,QAAH,CAAY,mBAAZ,CAAiCN,UAAjC,EACH,CAFD,CAGH,CALQ,CAKN,CAACA,UAAD,CALM,CAAT,CAOAX,SAAS,CAAC,UAAM,CACZU,EAAE,CAACQ,UAAH,CAAcC,SAAd,CAAwB,CACpBC,IAAI,CAAE,kBADc,CAAxB,EAGH,CAJQ,CAIN,EAJM,CAAT,CAMApB,SAAS,CAAC,UAAM,CACZ,GAAG,CAACM,MAAD,EAAW,CAACF,OAAf,CAAwB,CACpBM,EAAE,CAACQ,UAAH,CAAcG,IAAd,GACH,CAFD,IAEO,CACHX,EAAE,CAACQ,UAAH,CAAcI,IAAd,GACH,CACJ,CANQ,CAMN,CAAClB,OAAD,CAAUE,MAAV,CANM,CAAT,CAQA,GAAMiB,gBAAe,CAAG,QAAlBA,gBAAkB,CAACC,CAAD,CAAO,CAC3BnB,UAAU,CAACmB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAV,CACH,CAFD,CAIA,GAAMC,eAAc,CAAG,QAAjBA,eAAiB,CAACH,CAAD,CAAO,CAC1BjB,SAAS,CAACiB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAT,CACH,CAFD,CAIA,GAAME,gBAAe,CAAG,QAAlBA,gBAAkB,CAACJ,CAAD,CAAO,CAC3Bf,UAAU,CAACe,CAAC,CAACC,MAAF,CAASC,KAAV,CAAV,CACH,CAFD,CAIA,mBACI,aAAK,SAAS,CAAE,MAAhB,wBACI,gIADJ,cAEI,cACI,SAAS,CAAE,OADf,CAEI,IAAI,CAAC,MAFT,CAGI,WAAW,CAAE,QAHjB,CAII,KAAK,CAAEtB,OAJX,CAKI,QAAQ,CAAEmB,eALd,EAFJ,cASI,cACI,SAAS,CAAE,OADf,CAEI,IAAI,CAAC,MAFT,CAGI,WAAW,CAAE,OAHjB,CAII,KAAK,CAAEjB,MAJX,CAKI,QAAQ,CAAEqB,cALd,EATJ,cAgBI,gBAAQ,KAAK,CAAEnB,OAAf,CAAwB,QAAQ,CAAEoB,eAAlC,CAAmD,SAAS,CAAE,QAA9D,wBACI,eAAQ,KAAK,CAAE,UAAf,0DADJ,cAEI,eAAQ,KAAK,CAAE,OAAf,oDAFJ,GAhBJ,GADJ,CAuBH,CAvED,CAyEA,cAAezB,KAAf"},"metadata":{},"sourceType":"module"}